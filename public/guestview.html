<!Doctype html>
<html ng-app="GroupListApp">

<head>
    <title>
        Research Groups
    </title>
    
    
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"> <!--for cards-->
    <link href="https://fonts.googleapis.com/css?family=Lato:100,300,300i,400" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--     <link rel="stylesheet" type="text/css" href="bower_components/vendors/normalize.css">-->
    <!--   <link rel="stylesheet" type="text/css" href="bower_components/vendors/grid.css"> -->
    <link rel="stylesheet" type="text/css" href="/style.css">
    <script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="group-list-app.js"></script>
    <script type="text/javascript" src="list-ctrl.js"></script>


    <meta name="viewport" content="width=device-width, initial-scale=1">
      
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> 
    
   <!--  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->

    <!--------------------------------------------Scripts' start---------------------------------------------------------------------------------------->
    <!--------------------------------------------Scripts' start---------------------------------------------------------------------------------------->
    <script>
        function Select() {
            
            document.getElementById("SelectTeacher").value=-1;
            
        }


        function Lines() {
           
             document.getElementById("inputlines").value= null;
            // document.getElementById("inputlines").focus();
            
        }
    </script>
    
    <script>
function deshabilita()
{
    var x= document.getElementById("add1");
    var y= document.getElementById("up1");
     x.disabled=true ;
     y.disabled=false;
    
}

function habilita()
{
    //var x= document.getElementById("add1");
    var y= document.getElementById("up1");
    // x.disabled=false ;
     y.disabled=true;
    
    
}
</script>



    <!--------------------------------------------Scripts' end---------------------------------------------------------------------------------------->
    <!--------------------------------------------Scripts' end---------------------------------------------------------------------------------------->

</head>


<body ng-controller="ListCtrl">
    


    <header class="bigheader">
        <br>
        <br>
        <h1 class="header"><b>Research Groups</b></h1>



        <form class="formulario" name="frm" style="border:0px">

            <table class="table table-bordered " id=tabla>
              
           
               
                <div class="row">
                    <div class="col-lg-4">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
                            <input id="search" type="text"   class="form-control" ng-model="search" placeholder="Write the name of the group required">
                           
                        </div>
                    </div>
                    <div class="col-lg-4">

                    </div>

                    <div class="col-lg-4 ">
                        <div class="addbutton">

                            <button type="button" ng-click="generarID() ; limpiar()" onclick="habilita()"   class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModal"> <span class="glyphicon glyphicon-plus"></span>  </button>
                           <!--  "
                       <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModal1"><span class="glyphicon glyphicon-off"></span> Editar</a>-->
                        <button type="button" class="btn btn-default btn-sm" ng-click="delAllGroup()"> <span class="glyphicon glyphicon-trash"></span>  </a>
                          <button  type="button" class="btn btn-default btn-sm" onclick="document.location.reload();"><span class="glyphicon glyphicon-refresh"></span>
        <button type="button"  class="btn btn-danger btn-sm "onclick="window.close()"> <span class="glyphicon glyphicon-off"></span> </button>
                        </div>
                    </div>
                </div>
                <br>

                <thead class="thead">
                    

                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Responsable</th>
                        <th>E-mail</th>

                    </tr>
                </thead>

                <tbody>

                    <tr ng-if= "groups.lenght>0" ></tr> 
                    <tr ng-repeat="group in groups |  filter:search | limitTo:15 ">
                   
                        <td class="center"><a ng-click="Item_id(group.id)  ; refreshOne(id)" class="tdid" data-toggle="modal" href="#myModal1" style="color:##0000ff"><b>{{group.id}}</b></a></td>
                        <td>{{group.name}}</td>
                        <td>{{group.responsable}}</td>
                        <td>{{group.email}}</td> 

                    </tr>
                </tbody>
            </table>
        


    </form>
    
    
    </header> 
    <section>
        
    <form name="frm" style="border:1px" >
<!-------------------------------------------- Modal to add----------------------------------------------------------------------------------------------- -->
<!-------------------------------------------- Modal to add----------------------------------------------------------------------------------------------- -->
        <div class="container">
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="width1 modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
          <!----------- Modal header-------------------------------------->
          <!----------- Modal header-------------------------------------->
        <div class="modal-header">
          <!--  <button type="button" class="close btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span></button> -->
          <h3 class=" modalheader modal-title">Research Groups Administration</h3>
          
        </div>
        <!----------- Modal header-------------------------------------->
        <!----------- Modal header-------------------------------------->
        
        
        <!----------- Modal Body-------------------------------------->
        <!----------- Modal BODY-------------------------------------->
        <div class="modal-body">
          <div class="container">
              <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#home" >Group Details</a></li>
             <!--   <li><a data-toggle="tab" href="#menu1">Menu 1</a></li> -->
                <li><a data-toggle="tab" href="#menu3" >Members</a></li>
                <li><a data-toggle="tab" href="#menu2" >Investigation Lines</a></li>
              </ul>

                  <div class="tab-content">
                        <div id="home" class="tab-pane fade in active">
                            <br>
                          <div class="row">
                            <div class="col-lg-2" style="color:#B43104">
                                   <label for="id">ID: </label>  
                            </div>
            
                            <div class="col-lg-4" style="color:#B43104">  
                                <input type="text" name="id" class="form-control" ng-model="id"  tabindex="1" required readonly>
                                <span ng-show="frm.id.$dirty && frm.id.$error.required">Field Required</span> <!--ng-value="grupo[0].id" autofocus-->
                            </div>
                            <div class="col-lg-6" style="color:#B43104">
               
                            </div> 
              
                          </div> 
                          
                             <br>
                        <div class="row">
                            <div class="col-lg-2" style="color:#B43104">
                                  <label for="name">Name: </label>   
                            </div>
            
                            <div class="col-lg-4" style="color:#B43104">  
                                 <input class="form-control" ng-model="groups.name" name="name" type="text" tabindex="2" required> <!--ng-value="grupo[0].name"-->
                                 <span ng-show="frm.name.$dirty && frm.name.$error.required">Field Required</span>
                            </div>
            
                            <div class="col-lg-4" style="color:#B43104">
               
                            </div> 
            
                        </div> <br>
        
        
                        <div class="row">
                            <div class="col-lg-2" style="color:#B43104">
                                 <label for="responsable">Responsable </label> 
                            </div>
            
         
                            <div class="col-lg-4" style="color:#B43104">  
                                 <input  class="form-control" ng-model="groups.responsable" id="responsable" ng-pattern="/^[a-zA-Z +]*$/" name="responsable" type="text" tabindex="3" required> <!--ng-value="grupo[0].name"-->
                                 <span ng-show="frm.responsable.$dirty && frm.responsable.$error.required">Field Required</span>
                                 <span ng-show="frm.responsable.$dirty && frm.responsable.$invalid">Please not numbers</span>
                            </div> 
            
            
        
                            <div class="col-lg-4" style="color:#B43104"> 
                   
                            </div> 
           
                        </div> 
        <br>
         
                     <div class="row">
                        <div class="col-lg-2" style="color:#B43104">
                              <label for="email">E-mail: </label> 
                        </div>
            
                        <div class="col-lg-4" style="color:#B43104">  
                             <input class="form-control" ng-model="groups.email" name="email" type="email" tabindex="4" required> <!--ng-value="grupo[0].name"-->
                                 <span ng-show="frm.email.$dirty && frm.email.$error.required">Field Required</span>
        
                                 
                        </div>
            
                    </div> 
                
                    
                </div><!--div last body id=home-->
                        
                        
        <div id="menu2" class="tab-pane fade">
                    <!-- Desde aqui inician las lineas de investigación -->
                <section> 
                <br>
                   <div class="row form-group">
                       <div class="col-lg-2">
                            <label for="lines">Write the line to add</label> <br>
                       </div> 
                       
                        <div class="col-lg-4" >
                           <input  class="inputline form-control" id="inputlines" ng-model="new.lines" >
                       </div>
                       <div class="col-lg-6">
                              <button class="btnshort btn-primary" onclick="Lines()" ng-click="addLines()">+</button>
                       </div>
                   </div>
            <br>
       
                    <div class="row form-group">
                        <div class="col-lg-6" style="color:#B43104">
                           <textarea id="textlines" rows="5" cols="9" ng-model="lines" name="textlines" class="form-control"  type="text" required ></textarea>
                               <span ng-show="frm.textlines.$dirty && frm.textlines.$error.required">Field required</span>
                        </div> <br>
                    </div>
                </section> <br>
        </div><!--div last body id=menu2-->
        
        
        <div id="menu3" class="tab-pane fade">
                
                <!-- Aqui inician los investigadores de los grupos-->
            <section>
               <!--  <div class="row">
                    <div class="col-lg-12">
                       <h3 style="color:#B43104">Components:</h3> 
                   </div>
                </div> -->
                
                <div class="row form-group">
               
                    <div class="col-lg-2" style="color:#B43104">
                        <br>
                        <label for="member">Select a member to add</label>
                
                    </div>
               
                    <div class="col-lg-3 " style="color:#B43104">
                    <br>
                     <select class="seleccion form-control " id="SelectTeacher" ng-model="new.select" ng-options="profesor for profesor in profesores" ></select>
                     
                    </div>
                    
                    <div class="col-lg-3 " style="color:#B43104">
                    <br>
                     <button class="btnshort btn-primary" onclick="Select() " ng-click="addProfesor()">+</button>
                    </div>
                    
                         
                    <br>
                </div> <br>
                
                <div class="row form-group">
                    <div class="col-lg-6" style="color:#B43104">
                    <textarea class="form-control" id="textcomponents" rows="5" cols="9" ng-model="componentes"  name="textcomponents"   required ></textarea>
                               <span ng-show="frm.textcomponents.$dirty && frm.textcomponents.$error.required">Field required</span>
                
                    
                </div> <br>
        </div>
            </section>
        </div>    <!--div last body id=menu3-->           
                        
                    
                        
                        
                  </div> <!--div last-2 body-->
            </div> <!--div last-1 body-->
        </div> <!--div last body-->
        <!----------- Modal Body-------------------------------------->
        <!----------- Modal BODY-------------------------------------->
        
        <div class="modal-footer">
            <button  id="add1" type="button" ng-click="addGroup() "   ng-disabled="!frm.$valid" class="btn btn-primary btn-sm" data-dismiss="modal" > <span class="glyphicon glyphicon-plus"></span> Add </button>
            
          
          <button id ="up1" class="btn btn-primary btn-sm" ng-click="UpdateGroup(id)" data-dismiss="modal"> <span class="glyphicon glyphicon-pencil"></span> Update </button>
          
          <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" onclick="document.location.reload();"><span class="glyphicon glyphicon-remove"></span> Close </button>
        
        </div>
      </div>
      
    </div>
  </div>
  
</div>    
    
    
    

<!-------------------------------------------- Modal ----------------------------------------------------------------------------------------------- -->
<!-------------------------------------------- Modal ----------------------------------------------------------------------------------------------- -->
        </form>
    </section>
    
    
    <section>
        
    <form name="frm1" style="border:1px">
<!-------------------------------------------- Modal to edit----------------------------------------------------------------------------------------------- -->
<!-------------------------------------------- Modal to edit----------------------------------------------------------------------------------------------- -->
        <div class="container">
  <!-- Modal -->
  <div class="modal fade" id="myModal1" role="dialog">
    <div class="width1 modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
          <!----------- Modal header-------------------------------------->
          <!----------- Modal header-------------------------------------->
        <div class="modal-header modaledit1">
            <!--<button type="button" class="close btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span></button>-->
          <h3 class=" modalheader modal-title">Research Groups Administration</h3>
          
        </div>
        <!----------- Modal header-------------------------------------->
        <!----------- Modal header-------------------------------------->
        
        
        <!----------- Modal Body-------------------------------------->
        <!----------- Modal BODY-------------------------------------->
        <div class="modal-body">
          <div class="container">
              <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#homeedit">Group Details</a></li>
             <!--   <li><a data-toggle="tab" href="#menu1">Menu 1</a></li> -->
                <li><a data-toggle="tab" href="#menu3edit">Members</a></li>
                <li><a data-toggle="tab" href="#menu2edit">Investigation Lines</a></li>
              </ul>

                  <div class="tab-content">
                        <div id="homeedit" class="tab-pane fade in active">
                            <br>
                          <div class="row">
                            <div class="col-lg-2" style="color:#B43104">
                                   <label for="id">ID: </label>  
                            </div>
            
                            <div class="col-lg-4" style="color:#B43104">  
                                <input type="text" name="id" class="form-control" ng-model="id"  tabindex="1" required readonly>
                                <span ng-show="frm.id.$dirty && frm.id.$error.required">Field Required</span> <!--ng-value="grupo[0].id" autofocus-->
                            </div>
                            <div class="col-lg-6" style="color:#B43104">
               
                            </div> 
              
                          </div> 
                          
                             <br>
                        <div class="row">
                            <div class="col-lg-2" style="color:#B43104">
                                  <label for="name">Name: </label>   
                            </div>
            
                            <div class="col-lg-4" style="color:#B43104">  
                                 <input class="form-control" ng-model="groups.name" name="name" type="text" tabindex="2" required readonly> <!--ng-value="grupo[0].name"-->
                                 <span ng-show="frm.name.$dirty && frm.name.$error.required">Field Required</span>
                            </div>
            
                            <div class="col-lg-4" style="color:#B43104">
               
                            </div> 
            
                        </div> <br>
        
        
                        <div class="row">
                            <div class="col-lg-2" style="color:#B43104">
                                 <label for="responsable">Responsable </label> 
                            </div>
            
         
                            <div class="col-lg-4" style="color:#B43104">  
                                 <input class="form-control" ng-model="groups.responsable" name="responsable" type="text" tabindex="3" required readonly> <!--ng-value="grupo[0].name"-->
                                 <span ng-show="frm.responsable.$dirty && frm.responsable.$error.required">Field Required</span>
                            </div> 
            
            
        
                            <div class="col-lg-4" style="color:#B43104"> 
                   
                            </div> 
           
                        </div> 
        <br>
         
                     <div class="row">
                        <div class="col-lg-2" style="color:#B43104">
                              <label for="email">E-mail: </label> 
                        </div>
            
                        <div class="col-lg-4" style="color:#B43104">  
                             <input class="form-control" ng-model="groups.email" name="email" type="text" tabindex="4" required readonly> <!--ng-value="grupo[0].name"-->
                                 <span ng-show="frm.email.$dirty && frm.email.$error.required">Field Required</span>
                        </div>
            
                    </div> 
                
                    
                </div><!--div last body id=home-->
                        
                        
        <div id="menu2edit" class="tab-pane fade">
                    <!-- Desde aqui inician las lineas de investigación -->
                <section> 
                <br>
                   <div class="row">
                       
                       <div class="col-lg-2 style="color:#B43104"">
                       
                            <label for="lines">Lines of enquiry</label> 
                   </div>
                   </div>
            <br>
       
                    <div class="row form-group">
                        <div class="col-lg-6" style="color:#B43104">
                           <textarea class="form-control" id="textlines" rows="5" cols="9" ng-model="lines" name="textlines"  required readonly></textarea>
                               <span ng-show="frm.textlines.$dirty && frm.textlines.$error.required">Field required</span>
                        </div> <br>
                    </div>
                </section> 
        </div><!--div last body id=menu2-->
        
        
        <div id="menu3edit" class="tab-pane fade">
                
                <!-- Aqui inician los investigadores de los grupos-->
            <section>
               <!--  <div class="row">
                    <div class="col-lg-12">
                       <h3 style="color:#B43104">Components:</h3> 
                   </div>
                </div> -->
                
                <div class="row">
               
                    <div class="col-lg-2" style="color:#B43104">
                        <br>
                        <label for="member">Group members:</label>
                
                    </div>
              
                </div> <br>
                
                <div class="row form-group">
                    <div class="col-lg-6" style="color:#B43104">
                    <textarea class="form-control" id="textcomponents"  rows="5" cols="9" ng-model="componentes"  name="textcomponents"  required readonly></textarea>
                               <!--<span ng-show="frm.textcomponents.$dirty && frm.textcomponents.$error.required">Field required</span>-->
                
                    
                </div> <br>
        </div>
            </section>
        </div>    <!--div last body id=menu3-->           
                        
                    
                        
                        
                  </div> <!--div last-2 body-->
            </div> <!--div last-1 body-->
        </div> <!--div last body-->
        <!----------- Modal Body-------------------------------------->
        <!----------- Modal BODY-------------------------------------->
        
        <div class="modal-footer">
          <button class="btn btn-primary btn-sm" onclick="deshabilita()" data-dismiss="modal" data-toggle="modal" data-target="#myModal"> <span class="glyphicon glyphicon-pencil"></span> Update </button>
          <button type="button" ng-click="deleteGroup()" class="btn btn-primary btn-sm"> <span class="glyphicon glyphicon-trash"></span> Delete </button>
          <button type="button" class="btn btn-primary btn-sm"  onclick="document.location.reload();" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Close </button>
        
        </div>
      </div>
      
    </div>
  </div>
  
</div>    
    
    
    

<!-------------------------------------------- Modal to edit ----------------------------------------------------------------------------------------------- -->
<!-------------------------------------------- Modal to edit----------------------------------------------------------------------------------------------- -->
        </form>
    </section>
   
</body>


</html>

